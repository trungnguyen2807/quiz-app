(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();async function L(){const t=await fetch("/quiz-app/question.json");if(!t.ok)throw new Error("Failed to fetch questions");return await t.json()}const e={currentPoint:0,currentQuestionIndex:0,statusOfGame:"",highScore:localStorage.getItem("highScore")||0,countRightAnswers:0,countWrongAnswers:0,countdownInterval:null,timeLeft:15,questions:[]},i=document.getElementById("current-point");function m(t){t?(e.currentPoint+=100,i.classList.add("text-green-500"),setTimeout(()=>i.classList.remove("text-green-500"),3e3)):(e.currentPoint-=100,i.classList.add("text-red-500"),setTimeout(()=>i.classList.remove("text-red-500"),3e3)),e.currentQuestionIndex++,i.innerText=`Current point: ${e.currentPoint}`}function l(t){t>=e.questions.length?(S(),x()):(P(t),e.timeLeft=15,y.innerText=`Time: ${e.timeLeft}s`)}function x(){e.currentPoint>e.highScore&&(e.highScore=e.currentPoint,localStorage.setItem("highScore",e.highScore),highScoreText.innerText=`High Score: ${e.highScore}`),e.currentPoint=0,e.currentQuestionIndex=0,e.countRightAnswers=0,e.countWrongAnswers=0,i.innerText=e.currentPoint,T(),clearInterval(e.countdownInterval),e.timeLeft=15}function g(){e.countdownInterval=setInterval(()=>{e.timeLeft>0?q():(showCorrectAnswer(),e.statusOfGame="waiting",e.timeLeft=15,clearInterval(e.countdownInterval),setTimeout(()=>{l(e.currentQuestionIndex),g()},3e3))},1e3)}function h(){clearInterval(e.countdownInterval),e.timeLeft=15,setTimeout(()=>{l(e.currentQuestionIndex),g()},"3000")}const v=document.getElementById("question-text"),u=document.getElementById("answer-text"),I=document.getElementById("high-score"),y=document.getElementById("countdown"),f=document.getElementById("start-button"),a=document.getElementById("quiz-container");function p(t,s){s.classList.remove("bg-sky-500","hover:bg-sky-700"),s.classList.add("bg-green-500"),t.classList.remove("bg-sky-500","hover:bg-sky-700"),t.classList.add("bg-red-500"),setTimeout(()=>{s.classList.add("bg-sky-500","hover:bg-sky-700"),s.classList.remove("bg-green-500"),t.classList.add("bg-sky-500","hover:bg-sky-700"),t.classList.remove("bg-red-500")},3e3)}function b(t){t.classList.remove("bg-sky-500","hover:bg-sky-700"),t.classList.add("bg-green-500"),setTimeout(()=>{t.classList.add("bg-sky-500","hover:bg-sky-700"),t.classList.remove("bg-green-500")},3e3)}function T(){f.classList.remove("hidden"),a.classList.add("hidden"),a.classList.remove("flex")}function A(){f.classList.add("hidden"),a.classList.remove("hidden"),a.classList.add("flex")}function S(){Swal.fire({title:"Done! Your score is "+e.currentPoint,text:"You got "+e.countRightAnswers+" correct answers and "+e.countWrongAnswers+" wrong answers. Do you want to try again?",icon:"success",confirmButtonText:"Yah sure!",denyButtonText:"No, thanks",showDenyButton:!0,allowOutsideClick:!1,allowEscapeKey:!1})}function w(t,s,o){s?(e.countRightAnswers++,b(t)):(e.countWrongAnswers++,p(t,o))}function q(){e.timeLeft--,y.innerText=`Time: ${e.timeLeft}s`}function P(t){e.statusOfGame="active";const s=e.questions[t].question,o=e.questions[t].answers;v.innerText=`${e.questions[t].id}. ${s}`,u.setAttribute("data-correct-index",e.questions[t].correctIndex),u.querySelectorAll("li").forEach((n,r)=>{n.innerText=o[r]})}async function O(){try{e.questions=await L()}catch(t){console.error(t)}}O();I.innerText=`High Score: ${e.highScore}`;f.addEventListener("click",()=>{A(),l(e.currentQuestionIndex),g()});u.addEventListener("click",t=>{if(t.target.tagName==="LI"){if(e.statusOfGame==="waiting")return;e.statusOfGame="waiting";const s=t.target.getAttribute("data-index"),o=u.getAttribute("data-correct-index");if(s==o)w(t.target,!0,null),m(!0),h();else{const c=u.querySelector("li[data-index= '"+o+"' ]");w(t.target,!1,c),m(!1),h()}}});
